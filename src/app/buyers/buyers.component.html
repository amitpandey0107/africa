<div id="myaccount" fxLayout="column" [ngClass]="{'isLoading': loader}" fxLayoutAlign="center center">
  <!-- Header-part -->
  <mat-card fxFlex="100%" *ngIf="!viewDetails && !openNewDeal" class="weblist">
    <mat-card-title *ngIf="!isMobile">
      <div fxFlex="100%" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center center"
        fxLayoutAlign.xs="center start">
        <div class="p-b-10 filters" fxShow fxFlex="100%" fxFlex.md="75%" fxFlex.sm="75%" fxFlex.xs="100%" fxLayout="row"
          fxLayoutAlign="center center" fxLayoutAlign.xs="center start">
          <div class="filters" fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="100%" fxLayout="row"
            fxLayoutAlign="start">
            <div fxFlex="15%" fxFlex.sm="25%" fxFlex.md="20%" class="drop-container">
              <div class="dropdown">
                <button class="filter_selector" type="button" id="menu1" data-toggle="dropdown">
                  {{ filterCat }}
                  <i class="material-icons">keyboard_arrow_down</i>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                  <li name="All"  *ngFor="let item of listOfCategories" (click)="filter('businessCat', item.name); filterCat = item.name;getSubCategoryList(item.name) ">
                    {{item.name}}
                  </li>


                </ul>
              </div>
            </div>
            <div fxFlex="27%" fxFlex.sm="25%" fxFlex.md="25%" class="drop-container">
              <div class="dropdown">
                <button class="filter_selector" type="button" id="menu1" data-toggle="dropdown">
                  <i class="material-icons">keyboard_arrow_down</i>
                  {{businessSubCat}}

                </button>
                <ul class="dropdown-menu sort-by" role="menu" aria-labelledby="menu1">
                  <li name="All"  *ngFor="let item of listOfSubCategories" (click)="filter( 'businessSubCat', item.value); businessSubCat = item.name">
                    {{item.name}}
                  </li>
                </ul>
              </div>
            </div>
            <div fxFlex="23%" fxFlex.sm="25%" fxFlex.md="20%" class="drop-container">
              <div class="dropdown">
                <button class="filter_selector" type="button" id="menu1" (click)="dropOpenCaret = !dropOpenCaret"
                  data-toggle="dropdown">
                  {{filterCountry}}
                  <i class="material-icons">keyboard_arrow_down</i>
                </button>
                <i *ngIf="dropOpenCaret" class="material-icons drp-caret-cstm">arrow_drop_up</i>
                <ul class="dropdown-menu drop-cstm" (clickOutside)="dropOpenCaret = false" role="menu"
                  aria-labelledby="menu1">
                  <li name="All"  *ngFor="let item of listOfCountries" (click)="filter( 'country', item.value); filterCountry = item.name">
                    {{item.name}}
                  </li>
                </ul>
              </div>
            </div>
            <div fxFlex="27%" fxFlex.sm="25%" fxFlex.md="25%" class="drop-container">
              <div class="dropdown">
                <button class="filter_selector" type="button" id="menu1" data-toggle="dropdown">
                  <i class="material-icons">keyboard_arrow_down</i>
                  {{filterService}}
                </button>
                <ul class="dropdown-menu sort-by" role="menu" aria-labelledby="menu1">
                  <li name="All"  *ngFor="let item of listOfServices" (click)="filter( 'serviceType', item.value); filterService = item.name">
                    {{item.name}}
                  </li>
                </ul>

              </div>
            </div>
            <div class="new_post" fxFlex="15%" fxFlex.sm="20%" fxLayout="row" fxLayoutAlign="center center">
              <button class="btn new_btn f-s-14" (click)="toggleNewDeal()">
                + New Request
              </button>
            </div>
          </div>
        </div>
      </div>
    </mat-card-title>
    <mat-card-content>
      <mat-grid-list (mouseover)="changeStyle($event,i)" (mouseout)="changeStyle($event,i)"
      (click)="openDeatils(item)" [ngClass]="{ 'grid-list-sponser': i == hoverIndex}"  *ngFor="let item of provideData; let i = index" [cols]="6" rowHeight="6:1"
        (window:resize)="onResize($event)" style="position: relative;"
        [style.display]="item.status.key == 1 ? 'none' : 'block'">
        <mat-grid-tile class="logo-head">
          <mat-grid-tile-header [ngClass]="{ 'sponser-header': item.sponsered }" class="m-t-15">
            Summary
          </mat-grid-tile-header>

          <mat-grid-tile-footer style="height: 80px!important">
            <a  [ngClass]="{ 'sponsered-white': item.sponsered }">
              {{ item.description | slice:0:10 }}
              <span *ngIf="item.description.length>10">...</span>
            </a>
          </mat-grid-tile-footer>
        </mat-grid-tile>
        <mat-grid-tile class="logo-head">
          <mat-grid-tile-header [ngClass]="{ 'sponser-header': item.sponsered }" class="m-t-15">
            Category
          </mat-grid-tile-header>

          <mat-grid-tile-footer style="height: 80px!important">
            <a  [ngClass]="{ 'sponsered-white': item.sponsered }">
              {{ item.businessCat}}
            </a>
          </mat-grid-tile-footer>
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-grid-tile-header [ngClass]="{
              'sponser-header': item.sponsered,
              'crypto-text-mobile': isMobile
            }" class="m-t-15">
            Country</mat-grid-tile-header>
          <mat-grid-tile-footer [ngClass]="{ 'sponser-footer': item.sponsered }">
            {{ item.country.code | titlecase }}</mat-grid-tile-footer>
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-grid-tile-header [ngClass]="{
              'sponser-header': item.sponsered,
              'crypto-text-mobile': isMobile
            }" class="m-t-15">
            Request Type</mat-grid-tile-header>
          <mat-grid-tile-footer *ngIf="item.serviceType == 0" [ngClass]="{ 'sponser-footer': item.sponsered }">
            Purchase</mat-grid-tile-footer>
            <mat-grid-tile-footer *ngIf="item.serviceType == 1" [ngClass]="{ 'sponser-footer': item.sponsered }">
              Provide</mat-grid-tile-footer>
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-grid-tile-header [ngClass]="{ 'sponser-header': item.sponsered }" class="m-t-15">Date
          </mat-grid-tile-header>
          <mat-grid-tile-footer class="flag-card" [ngClass]="{ 'sponser-footer': item.sponsered }">
            <div fxFlex="100" fxLayout="row" fxLayoutAlign="center center" class="country-box">
              <div fxFlex="72" fxLayoutAlign="start center" class="country-name">
                <span class="country hide text-center">{{ item.dateCreated | date:'mediumDate' }}</span>
              </div>
            </div>
          </mat-grid-tile-footer>
        </mat-grid-tile>

        <mat-grid-tile class="intrest-section">
          <mat-grid-tile-header [ngClass]="{ 'sponser-header': item.sponsered }">
            <b class="verify-b">Interest<br /></b>
          </mat-grid-tile-header>
          <mat-grid-tile-footer *ngIf="item.userID != userId" click-stop-propagation (click)="sentMessage(item);item.active = true" class="c-color1 verify-zalate" [ngStyle]="{
              color: !item.sponsered
                ? '#8f28af !important'
                : '#ffffff !important'
            }">
            <i *ngIf="!item.ConvoCreated" class="material-icons">star_border</i>
            <i *ngIf="item.ConvoCreated" class="material-icons">done</i>
          </mat-grid-tile-footer>
        </mat-grid-tile>
      </mat-grid-list>
      <h3 class="text-center" *ngIf="provideData.length === 0">No Requests Found</h3>

    </mat-card-content>
    <div class="pagination-box">
      <!-- <pagination-controls (pageChange)="p = $event"></pagination-controls> -->
      <!-- <button class="btn new_btn f-s-14" (click)="next()">
        Next
      </button> -->
      <!-- <button mat-mini-fab  color="primary">Next</button>
      <button mat-fab (click)="next()"color="primary">Next</button> -->

        </div>
        <mat-card-actions>
          <button mat-raised-button *ngIf="prevButton" color="primary" (click)="getPaginationData('prev')">PREVIOUS</button>
          <button mat-raised-button *ngIf="nextButton" color="primary" (click)="getPaginationData('next')">NEXT</button>
        </mat-card-actions>
  </mat-card>
  <div class="nav-bar" fxFlex="100%" fxHide fxShow.xs fxLayout="row" fxLayoutAlign="center center" style="width:100%;">
    <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/buyers']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        home
      </i>
      <span>Home</span>
    </div>
    <!-- <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/sellers']"
    [routerLinkActive]="['active']">
    <i fxFlex="100%" class="material-icons">
      add_circle
    </i>
    <span>New Deal</span>
  </div> -->
    <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/chat']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        message
      </i>
      <span>Message</span>
    </div>
    <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/account']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        person
      </i>
      <span>Account</span>
    </div>
    <!-- <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/account']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        accessibility_new
      </i>
      <span>Access</span>
    </div> -->
    <!-- <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/sellers']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        notifications_active
      </i>
      <span>Notifications</span>
    </div> -->
    <div fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/faq']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        help
      </i>
      <span>FAQ</span>
    </div>
    <!-- <div  fxFlex="25%" fxLayout="column" fxLayoutAlign="center center" [routerLink]="['/account']"
      [routerLinkActive]="['active']">
      <i fxFlex="100%" class="material-icons">
        exit_to_app
      </i>
      <span>Logout</span>
    </div> -->
  </div>
  <div fxHide fxShow.xs *ngIf="!viewDetails && !openNewDeal">
    <button class="btn-circle" (click)="toggleNewDeal()">
      <i class="material-icons">
        add
      </i>
    </button>
  </div>
  <app-loader *ngIf="loader"></app-loader>
</div>